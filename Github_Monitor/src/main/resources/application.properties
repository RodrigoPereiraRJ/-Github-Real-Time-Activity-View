spring.application.name=github-monitor-api

# Import Local Configuration (if exists) to override defaults below
spring.config.import=optional:classpath:application-local.properties

spring.datasource.url=${DB_URL:jdbc:postgresql://aws-1-us-east-1.pooler.supabase.com:6543/postgres?user=postgres.vbetjbmcbwenynxuopgo&password=wMB%408%21kXpR%232%2F8%2B&sslmode=require}
# spring.datasource.username=${DB_USERNAME:postgres.vbetjbmcbwenynxuopgo}
# Default password is now SAFE (empty or placeholder) - Real password comes from env vars or application-local.properties
# spring.datasource.password=${DB_PASSWORD:wMB%408%21kXpR%232%2F8%2B}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true

# Disable Headless Mode for AWT SystemTray (Default: false for local Windows dev, true for Cloud via ENV)
spring.main.headless-mode=${HEADLESS_MODE:false}

# Server Port (Render sets PORT env var)
server.port=${PORT:8080}


# Disable Spring Banner
spring.main.banner-mode=off

# JWT Configuration
app.jwt.secret=${JWT_SECRET:CHANGE_ME_TO_A_VERY_LONG_SECRET_KEY_IN_PRODUCTION}
app.jwt.expiration=86400000

# GitHub Webhook Configuration
github.webhook.secret=${GITHUB_WEBHOOK_SECRET:CHANGE_ME_IN_PROD}
github.api.token=${GITHUB_API_TOKEN:}

# Logging Configuration
# Root OFF to silence almost everything
logging.level.root=ERROR
# Silence framework noise
logging.level.org.springframework=OFF
logging.level.org.apache.catalina=OFF
logging.level.org.hibernate=OFF
logging.level.com.zaxxer=OFF
# Silence general app logs
logging.level.com.githubmonitor=OFF
# Enable ONLY EventService logs for webhooks
logging.level.com.githubmonitor.api.service.impl.EventServiceImpl=INFO
